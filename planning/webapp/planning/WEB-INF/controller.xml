<?xml version="1.0" encoding="UTF-8"?>

<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://ofbiz.apache.org/Site-Conf" xsi:schemaLocation="http://ofbiz.apache.org/Site-Conf http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!-- The controller elements that are common to all OFBiz components
         can be found in the following xml file. A component can override the
         elements found in the common-controller.xml file. -->
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>

    <description>Planning Component Site Configuration File</description>

	<!--  ################## request-map ################## -->
	
	<!-- Calendar -->
	<request-map uri="ctrlCalendarMain">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="vCalendarMain"/>
    </request-map>
    <!-- 
    <request-map uri="viewAnnualCalendar">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="viewAnnualCalendar"/>
    </request-map>
	-->
	
    <!-- ShiftConfig -->
	<request-map uri="ctrlShiftConfigMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vShiftConfigMain"/>
	</request-map>
	
    <!-- PlanningGroups -->
	<request-map uri="ctrlPlanningGroupsMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vPlanningGroupsMain"/>
	</request-map>
	
	
	<!-- *** NUEVO: ejecución del servicio de búsqueda (igual que searchMachinery) *** -->
	<request-map uri="searchPlanningGroups">
		<security https="true" auth="true" />
		<event type="service" invoke="searchPlanningGroups" />
		<response name="success" type="view" value="vPlanningGroupsResults" />
		<response name="error" type="view" value="vPlanningGroupsMain" />
	</request-map>	
	<!-- *** NUEVO: pantalla de búsqueda de Planning Groups (igual que machinerySearch) *** -->
	<!-- 
	<request-map uri="planningGroupsSearch">
		<security https="true" auth="true" />
		<response name="success" type="view" value="PlanningGroupsSearch" />
	</request-map>
	 -->
	
    <!-- AssignedRefs -->
	<request-map uri="ctrlAssignedRefsMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vAssignedRefsMain"/>
	</request-map>
	
    <!-- Machinery -->
	<request-map uri="ctrlMachineryMain">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="vMachineryMain"/>
    </request-map>

    <request-map uri="ctrlMachinerySearch">
        <security https="true" auth="true"/>
        <event type="service" invoke="searchMachinery"/>
        <response name="success" type="view" value="vMachinerySearchResults"/>
        <response name="error" type="view" value="machinerySearch"/>
    </request-map>
	
	<request-map uri="crtlCreateMachinery">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="vMachineryCreate"/>
    </request-map>
	
	<request-map uri="deleteMachinery">
	    <security https="true" auth="true"/>
	    <event type="service" invoke="deleteMachinery"/>
	    <response name="success" type="view" value="SearchMachineryResults"/>
	    <response name="error" type="view" value="SearchMachineryResults"/>
	</request-map>

	<request-map uri="deleteMachineryConfirmation">
		<security https="true" auth="true"/>
		<response name="success" type="view" value="deleteMachineryConfirmation"/>
	</request-map>

	<request-map uri="deleteMachinery">
		<security https="true" auth="true"/>
		<response name="success" type="view" value="deleteMachinery"/>
		<response name="error" type="view" value="deleteMachineryConfirmation"/>
	</request-map>
	
    <!-- DOHConf -->
	<request-map uri="ctrlDOHConfMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vDOHConfMain"/>
	</request-map>
	
	<!-- HourlyRates -->
	<request-map uri="ctrlHourlyRatesMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vHourlyRatesMain"/>
	</request-map>
	
    <!-- WeeklyPlanning -->
	<request-map uri="ctrlWeeklyPlanningMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vWeeklyPlanningMain"/>
	</request-map>
	
	<!-- DailyPlanning -->
	<request-map uri="ctrlDailyPlanningMain">
	    <security https="true" auth="true"/>
	    <response name="success" type="view" value="vDailyPlanningMain"/>
	</request-map>
	
    <!-- Request Mappings -->
    <request-map uri="main"><security https="true" auth="true"/><response name="success" type="view" value="main"/></request-map>
    
	<!--  ################## view-map ################## -->
	
	<!-- Calendar -->
	<view-map name="vCalendarMain" type="screen" page="component://planning/widget/CalendarScreens.xml#scrCalendarMain"/>
	<!-- 
    <view-map name="viewAnnualCalendar" type="screen" page="component://planning/widget/CalendarScreens.xml#viewAnnualCalendar"/>
	-->

	<!-- ShiftConfig -->
	<view-map name="vShiftConfigMain" type="screen" page="component://planning/widget/planning/ShiftConfigScreen.xml#scrShiftConfigMain"/>

	<!-- PlanningGroups -->
	<view-map name="vPlanningGroupsMain" type="screen" page="component://planning/widget/PlanningGroupsScreen.xml#scrPlanningGroupsMain"/>



	<view-map name="vPlanningGroupsResults"
		type="screen"
		page="component://planning/widget/PlanningGroupsScreen.xml#scrSearchPlanningGroupsResults" />
	<!-- 
	<view-map name="PlanningGroupsSearch"
		type="screen"
		page="component://planning/widget/PlanningGroupsScreen.xml#SearchPlanningGroups" />
	 -->



	<!-- AssignedRefs -->
	<view-map name="vAssignedRefsMain" type="screen" page="component://planning/widget/planning/AssignedRefsScreen.xml#scrAssignedRefsMain"/>

	<!-- Machinery -->
	<view-map name="vMachineryMain" type="screen" page="component://planning/widget/MachineryScreens.xml#scrMachineryMain"/>
    <view-map name="vMachinerySearchResults" type="screen" page="component://planning/widget/MachineryScreens.xml#scrMachinerySearchResults"/>
    <view-map name="SearchMachineryResults" type="screen" page="component://planning/widget/MachineryScreens.xml#SearchMachineryResults"/>
    <view-map name="vMachineryCreate" type="screen" page="component://planning/widget/MachineryScreens.xml#scrCreateMachinery"/>
    
    
	<view-map name="deleteMachineryConfirmation" type="screen" 
          page="component://planning/widget/MachineryScreens.xml#deleteMachineryConfirmation"/>

	<view-map name="deleteMachinery" type="screen" 
          page="component://planning/widget/MachineryScreens.xml#deleteMachinery"/>
		  
	<!-- DOHConf -->
	<view-map name="vDOHConfMain" type="screen" page="component://planning/widget/planning/DOHConfScreen.xml#scrDOHConfMain"/>
    
	<!-- HourlyRates -->
	<view-map name="vHourlyRatesMain" type="screen" page="component://planning/widget/planning/HourlyRatesScreen.xml#scrHourlyRatesMain"/>
    
	<!-- WeeklyPlanning -->
	<view-map name="vWeeklyPlanningMain" type="screen" page="component://planning/widget/planning/WeeklyPlanningScreen.xml#scrWeeklyPlanningMain"/>
    
	<!-- DailyPlanning -->
	<view-map name="vDailyPlanningMain" type="screen" page="component://planning/widget/planning/DailyPlanningScreen.xml#scrDailyPlanningMain"/>

    <!-- View Mappings -->
    <view-map name="main" type="screen" page="component://planning/widget/PlanningScreens.xml#main"/>
</site-conf>